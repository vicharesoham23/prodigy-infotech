import tkinter as tk
from datetime import datetime

LOG_FILE = "keystrokes.log"


def log_key(event):
    key = event.keysym

    with open(LOG_FILE, "a") as file:
        file.write(f"{datetime.now()} - {key}\n")


def main():
    root = tk.Tk()
    root.title("Keystroke Logger (Educational Demo)")
    root.geometry("450x200")

    label = tk.Label(
        root,
        text=(
            "⚠ Educational Demo ⚠\n\n"
            "All keystrokes typed inside this window\n"
            "will be logged to a file.\n\n"
            "This program does NOT capture system-wide input."
        ),
        justify="center"
    )
    label.pack(pady=20)

    input_box = tk.Entry(root, width=50)
    input_box.pack(pady=10)
    input_box.focus()

    # Bind keypress events ONLY to this window
    root.bind("<KeyPress>", log_key)

    root.mainloop()


if __name__ == "__main__":
    main()
